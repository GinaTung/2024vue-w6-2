import{a as c}from"./axios-L6U4YIEh.js";import{_ as m,r as f,o,c as d,a,F as P,g as b,t as l,b as v,w as L,d as _,h as C}from"./index-vr-Mh3ZQ.js";var y={VITE_APP_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_API_NAME:"yuling2023",BASE_URL:"/2024vue-w6-2/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:u,VITE_APP_API_NAME:p}=y,A={data(){return{products:[],loadingStatus:{loadingItem:""},status:{addCartLoading:"",carteQtyLoading:""},isLoading:!1}},methods:{addToCart(s,n=1){const r=`${u}/api/${p}/cart`,i={product_id:s,qty:n};this.status.addCartLoading=s,c.post(r,{data:i}).then(e=>{this.status.addCartLoading="",alert(e.data.message)}).catch(e=>{alert(e.response)})},getProducts(){c.get(`${u}/api/${p}/products`).then(s=>{console.log(s),this.products=s.data.products}).catch(s=>{alert(`${s.response.data.message}`)})}},mounted(){this.getProducts()}},E={class:"my-5"},V={class:"row row-cols-1 row-cols-md-3 g-4"},x={class:"card h-100"},k=["src","alt"],w={class:"card-body"},R={class:"card-title"},T={class:"card-text"},$={class:"card-footer bg-transparent d-flex justify-content-between"},N=["onClick","disabled"],S={key:0,class:"spinner-border spinner-border-sm","aria-hidden":"true"};function B(s,n,r,i,e,h){const g=f("RouterLink");return o(),d("div",E,[a("div",V,[(o(!0),d(P,null,b(e.products,t=>(o(),d("div",{class:"col",key:t.id},[a("div",x,[a("img",{src:t.imageUrl,class:"img-fluid card-img-top2",alt:t.title},null,8,k),a("div",w,[a("h5",R,l(t.title),1),a("p",T,l(t.description),1)]),a("div",$,[v(g,{to:`/products/${t.id}`,class:"btn btn-outline-primary",type:"button"},{default:L(()=>[_("查看更多")]),_:2},1032,["to"]),a("button",{type:"button",class:"btn btn-outline-danger",onClick:D=>h.addToCart(t.id),disabled:t.id===e.status.addCartLoading},[t.id===e.status.addCartLoading?(o(),d("span",S)):C("",!0),_(" 加到購物車 ")],8,N)])])]))),128))])])}const F=m(A,[["render",B]]);export{F as default};
